<div class="mt-8 mb-8">
  <h1>Bienvenid@ {{username?.nombre}}!!!</h1>

  <div class="btn-container">
    <p-button icon="pi pi-iconName" label="Perfil" (click)="perfilUsuario()"></p-button>
    <p-button icon="pi pi-iconName" label="Perros de {{username?.nombre}}" [routerLink]="['/perros']"></p-button>
    <p-button icon="pi pi-iconName" label="Cerrar Sesión" (click)="logout()"></p-button>
  </div>

  <h2>Perro seleccionado</h2>
  <div *ngFor="let perro of perros; let first = first">
    <div *ngIf="first">
      <p-button icon="pi pi-iconName" label="{{perro.nombre}}" [routerLink]="['/perfilperro', perro.id_perro]"></p-button>
    </div>
  </div>

  <h2>Actividades disponibles</h2>
  <ul>
    <li *ngFor="let actividad of actividades">
      <ng-container *ngIf="actividad.id_categoria === 1">
        <h3>Trucos:</h3>

        <p-card (click)="seleccionarActividad(actividad)">
          <div>
            {{ actividad.nombre }} - {{ actividad.descripcion }}
          </div>
        </p-card>
        
      </ng-container>

      <ng-container *ngIf="actividad.id_categoria === 2">
        <h3>Juegos:</h3>
        <p-card (click)="seleccionarActividad(actividad)">
          <div>
            {{ actividad.nombre }} - {{ actividad.descripcion }}
          </div>
        </p-card>
        
      </ng-container>
      <ng-container *ngIf="actividad.id_categoria === 3">
        <h3>Ejercicios:</h3>
        <p-card (click)="seleccionarActividad(actividad)">
          <div>
            {{ actividad.nombre }} - {{ actividad.descripcion }}
          </div>
        </p-card>
      </ng-container>
    </li>
  </ul>

  <p-dialog header="Detalles de la Actividad" [(visible)]="displayModal" [modal]="true">
    <div *ngIf="selectedActividad">
      <h3>Nombre: {{ selectedActividad.nombre }}</h3>
      <p>Description: {{ selectedActividad.descripcion }}</p>
      <p>Fecha de creación: {{ selectedActividad.fecha_creacion }}</p>
      <p>Calificación: {{ selectedActividad.calificacion }}</p>
      <p>Progreso: {{ selectedActividad.progreso }}</p>
      <p>Contador: {{ selectedActividad.contador }}</p>
      <div>
        <p-button icon="pi pi-iconName" label="Ver guía" (click)="mostrarPasos(selectedActividad.id_actividad)"></p-button>
        <ul *ngFor="let paso of pasos">
          <li>
            {{ paso.titulo }} - {{ paso.nombre }} - {{ paso.descripcion }}
          </li>
        </ul>
      </div>
    </div>
  </p-dialog>


  <div>
    <h2>Todas las categorías</h2>
    <div>
      <div *ngFor="let categoria of categorias">
        <p-button icon="pi pi-iconName" label="{{categoria.nombre}}" [routerLink]="['/categorias', categoria.id_categoria]"></p-button>
      </div>
    </div>
  </div>
  
  

  <h2>Sugerencias generales</h2>
  <p-card>
    <div *ngFor="let sugerencia of sugerencias">
      <div>
        <strong>{{sugerencia.nombre}}</strong><br>
        {{sugerencia.descripcion}}
      </div>
    </div>
  </p-card>
  
</div>
