<div class="mt-8 mb-8">
  <div class="flex flex-column align-items-center justify-content-center">
    <h3>Perfil de perro <span class="material-symbols-outlined">pet_supplies</span></h3>
  </div>

  <div class="flex align-items-center justify-content-center">
    <div *ngFor="let p of perro">
      <p-card class="border-800" styleClass="bg-cyan-100 border-solid">
        <div class="flex">
          <div class="flex justify-content-center align-items-center mr-4 ml-4">
            <span class="material-symbols-outlined" style="font-size: 100px;">pets</span>
          </div>
          <div class="flex justify-content-center align-items-center mr-4 ml-4">
            <div class="mr-4 ml-4">
              <h4>Nombre</h4>
              <p>{{p.nombre}}</p>
            </div>
            <div class="mr-4 ml-4">
              <h4>Fecha nacimiento</h4>
              <p>{{p.fecha_nacimiento | date: 'dd/MM/yyyy' }}</p>
            </div>
          </div>
          <div class="flex justify-content-center align-items-center mr-4 ml-4">
            <div class="mr-4 ml-4">
              <h4>Raza</h4>
              <p>{{p.nombre_raza}}</p>
            </div>
            <div class="mr-4 ml-4">
              <h4>Sexo</h4>
              <p>{{p.genero}}</p>
            </div>
          </div>
        </div>
      </p-card>
    </div>
  </div>

  <div class="align-items-center justify-content-center">
    <div class="text-center">
      <h2>Actividades guardadas</h2>
    </div>
    <div class="flex align-items-center justify-content-center" *ngFor="let actividad of actividades">
      <div>
        <p-card styleClass="bg-red-100" (click)="abrirDialogo(actividad)">
          <div class="flex align-items-center justify-content-center">
            <div class="mr-2 ml-2">
              {{actividad.nombre}} - {{actividad.descripcion}} - {{actividad.contador}}
            </div>
            <div class="mr-2 ml-2">
              <p-button icon="pi pi-iconName" severity="danger" label="Eliminar actividad" (click)="eliminarRelacionPerroActividad(actividad.id_actividad)"></p-button>
            </div>
          </div>
        </p-card>
      </div>
      <div>
        <p-dialog header="header" [(visible)]="displayModal" [modal]="true" [style]="{width: 'width', minWidth: 'minWidth'}"
        [maximizable]="true">
        <div *ngIf="selectedActividad">
          <div>
            <h3>{{ selectedActividad.nombre }}</h3>
            <p>{{ selectedActividad.descripcion }}</p>
            <p>Fecha de creación {{ selectedActividad.fecha_creacion | date: 'dd/MM/yyyy' }}</p>  
          </div>
          
          <div *ngIf="pasoActual >= 0 && pasos && pasoActual < pasos.length">
            <div>
              
                <h3>{{ pasos[pasoActual].titulo }}</h3>
                <div class="flex flex-column align-items-center justify-content-center">
                  <div class="col-8">
                    <p-card styleClass="bg-gray-100">
                      <span class="material-symbols-outlined" style="font-size: 75px;">
                        pet_supplies
                        </span>
                    </p-card>
                  </div>
                </div>
                <div class="mt-4 mb-4 mr-4 ml-4">
                  <p>{{ pasos[pasoActual].descripcion }}</p>
                </div>
            </div>
          </div>
          <div class="flex align-items-center justify-content-center">
            <div class="mt-4 mb-4 mr-4 ml-4">
              <p-button icon="pi pi-iconName" label="Guardar guía"></p-button>
            </div>
            <div class="mr-4 ml-4">
              <p-button icon="pi pi-iconName" label="Anterior" (click)="anterior()" [disabled]="pasoActual < 0"></p-button>
            </div>
            <div class="mr-4 ml-4">
              <p-button icon="pi pi-iconName" label="Siguiente" (click)="siguiente()" [disabled]="pasoActual >= pasos.length - 1"></p-button>
            </div>
          </div>
        </div>
        </p-dialog>
      </div>
    </div>
  </div>

  <div class="align-items-center justify-content-center">
    <div class="text-center">
      <h2>Actividades recientes</h2>
    </div>
    <div class="col-12">
      <div class="flex">
        <div *ngFor="let actividad of actividades_recientes" class="flex align-items-center justify-content-center">
          <p-card styleClass="bg-red-100">
            <div>
              {{actividad.nombre}} - {{actividad.descripcion}} - {{actividad.fecha_reciente | date: 'dd/MM/yyyy' }}
            </div>
          </p-card>
        </div>
      </div>
    </div>
  </div>

  <div class="text-center align-items-center justify-content-center">
    <p-card [style]="{width: 'width'}" styleClass="styleClass">
      <div class="align-items-center justify-content-center">
        <form [formGroup]="formulario">
          <h1>Modificar datos de perro</h1>
          <div class="p-2">
            <input type="text" placeholder="Nombre" pInputText formControlName="nombre" />
          </div>
          <div class="p-2">
            <p-calendar placeholder="Fecha de Nacimiento" formControlName="fecha_nacimiento"></p-calendar>
          </div>
          <div class="p-2">
            <p-dropdown [options]="razas" placeholder="Selecciona una raza"></p-dropdown>
          </div>
          <div class="p-2">
            <p-dropdown [options]="generoOptions" formControlName="genero" optionLabel="label" optionValue="value" placeholder="Sexo"></p-dropdown>
          </div>
          <div class="mt-4 mb-4">
            <p-button (click)="modificarPerro()" label="Modificar perro"></p-button>
          </div>
        </form>
      </div>
    </p-card>
  </div>

  <div class="flex flex-column align-items-center justify-content-center">
    <div class="text-center">
      <h2>Eliminar perro</h2>
    </div>
    <div>
      <p-button icon="pi pi-iconName" severity="danger" label="Eliminar perro" (click)="eliminarPerro()"></p-button>
    </div>
  </div>

</div>
